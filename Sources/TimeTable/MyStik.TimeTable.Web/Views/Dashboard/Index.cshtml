@using MyStik.TimeTable.Web.Models
@model MyStik.TimeTable.Web.Models.DashboardViewModel
@{
    ViewBag.Title = "Meine Termine";
}

@section styles
{

}

<div class="panel panel-default">
    <div class="panel-body bg-fillter-hm">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <h1>Übersicht</h1>
                </div>
            </div>
        </div>
    </div>
</div>



<div class="container-fluid">


    <div class="row">
        <div class="col-md-12">
            <div class="note note-success">
                <p>
                    Das Sekretariat hat heute geschlossen.
                </p>
            </div>
            <div class="row" id="sortable_portlets">
                <div class="col-md-4 column sortable">
                    @if (ViewBag.UserRight.User.MemberState == MemberState.Guest)
                    {
                        <div id="portletStudtentUpgrade">
                            @Html.Partial("_PortletStudentUpgrade", Model)
                        </div>

                    }
                    else if (ViewBag.UserRight.User.MemberState == MemberState.Student)
                    {
                        <div id="portletSemGroup">
                            @Html.Partial("_PortletSemGroup", Model)
                        </div>
                    }
                    else if (ViewBag.UserRight.User.MemberState == MemberState.Staff)
                    {
                        if (ViewBag.UserRight.IsOrgAdmin)
                        {
                            <div id="portletToday">
                                @Html.Partial("_PortletToday", Model)
                            </div>
                        }
                        else if (ViewBag.UserRight.IsOrgMember)
                        {
                            <div id="portletCourses">
                                @Html.Partial("_PortletCourses", Model)
                            </div>
                            <div id="portletOfficHour">
                                @Html.Partial("_PortletOfficeHour", Model)
                            </div>
                        }
                    }
                    <!-- empty sortable porlet required for each columns! -->
                    <div class="portlet portlet-sortable-empty">
                    </div>
                </div>
            <div class="col-md-4 column sortable">
                @if (ViewBag.UserRight.User.MemberState == MemberState.Guest)
                {
                    <div id="portletGuestOfficeHour">
                        @Html.Partial("_PortletGuestOfficeHour", Model)
                    </div>

                }
                else if (ViewBag.UserRight.User.MemberState == MemberState.Student)
                {
                    <div id="portletSubCourse">
                        @Html.Partial("_PortletSubCourse", Model)
                    </div>
                    <div id="portletSubOfficeHour">
                        @Html.Partial("_PortletSubOfficeHour", Model)
                    </div>
                    <div id="portletSubEvent">
                        @Html.Partial("_PortletSubEvent", Model)
                    </div>
                }
                else if (ViewBag.UserRight.User.MemberState == MemberState.Staff)
                {
                        <div id="portletWhoIsIn">
                            @Html.Partial("_PortletWhoIsIn", Model)
                        </div>
                        <div id="portletCurrent">
                            @Html.Partial("_PortletCurrent", Model)
                        </div>
                }
                <div class="portlet portlet-sortable light bordered">
                    <div class="portlet-title">
                        <div class="caption">
                            <i class="icon-paper-plane font-green-haze"></i>
                            <span class="caption-subject bold font-green-haze uppercase">
                                Nächste Vorlesung
                            </span>
                            <span class="caption-helper"></span>
                        </div>
                    </div>
                    <div class="portlet-body">
                        <h4>Heading text goes here...</h4>
                        <p>
                            Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Cras mattis consectetur purus sit amet fermentum. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Cras mattis consectetur purus sit amet fermentum. Duis mollis.
                        </p>
                    </div>
                </div>
                <div class="portlet portlet-sortable light bordered">
                    <div class="portlet-title tabbable-line">
                        <div class="caption">
                            <i class="icon-pin font-yellow-lemon"></i>
                            <span class="caption-subject bold font-yellow-lemon uppercase">
                                Sprechstunden
                            </span>
                        </div>
                        <ul class="nav nav-tabs">
                            <li>
                                <a href="#portlet_tab2" data-toggle="tab">
                                    Tab 2
                                </a>
                            </li>
                            <li class="active">
                                <a href="#portlet_tab1" data-toggle="tab">
                                    Tab 1
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="portlet-body">
                        <div class="tab-content">
                            <div class="tab-pane active" id="portlet_tab1">
                                <h4>Tab 1 Content</h4>
                                <p>
                                    Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.ut laoreet dolore magna ut laoreet dolore magna. ut laoreet dolore magna. ut laoreet dolore magna.
                                </p>
                            </div>
                            <div class="tab-pane" id="portlet_tab2">
                                <h4>Tab 2 Content</h4>
                                <p>
                                    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- empty sortable porlet required for each columns! -->
                <div class="portlet portlet-sortable-empty">
                </div>
            </div>
                <div class="col-md-4 column sortable">
                    @if (ViewBag.UserRight.User.MemberState != MemberState.Guest)
                    {
                        <div id="portletFreeRooms">
                            @Html.Partial("_PortletFreeRooms", Model)
                        </div>

                    }
                    
                    <div class="portlet portlet-sortable light bordered">
                        <div class="portlet-title">
                            <div class="caption font-green-sharp">
                                <i class="icon-speech font-green-sharp"></i>
                                <span class="caption-subject bold uppercase"> Freie Räume</span>
                            </div>
                        </div>
                        <div class="portlet-body">
                            <table class="table table-condensed">
                                <thead>
                                <tr>
                                <th></th>
                                <th>Nummer</th>
                                <th>Bis</th>
                                </thead>
                                <tr>
                                    <td><i class="icon-heart"></i></td>
                                    <td>R BG0.89</td>
                                    <td>12:15</td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <!-- empty sortable porlet required for each columns! -->
                    <div class="portlet portlet-sortable-empty">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts
{
    <script src="~/Assets/admin/pages/scripts/portlet-draggable.js"></script>

<script type="text/javascript">

    $(document).ready(function () {
        PortletDraggable.init();
    });

    function onCurriculumChanged() {

        var prog = $('#Curriculum option:selected').val();

        $.ajax(
        {
            type: 'POST',
            url: '@Url.Action("GroupList", "Dashboard")',
            data: {
                currId: prog
            },
            success: function (data, success, xhr) {
                $('#CurrGroup').html(data);
            }
        });
    }


</script>


}
